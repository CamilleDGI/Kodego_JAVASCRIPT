<!DOCTYPE html>
<html>	
    <head>
        <title>JavaScript Object</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    </head>
    <body>
        <div class="container m-5">
            
            <h1>JS GAME</h1>
            <img src="https://media.tenor.com/7HFPLm7Rl8oAAAAC/321-count-down.gif" alt="rps" class="col-4">
            <div class="col-4 p-3 border">
                <h6>Choose Your Match</h6>
                <div class="col p-3 bg-info">
                    <button id="scissorBtn" value="scissor" onclick="myFunction(this)" class="rounded col-3">SCISSOR</button>
                    <button id="rockBtn" value="rock" onclick="myFunction(this)" class="rounded col-3">ROCK</button>
                    <button id="paperBtn" value="paper" onclick="myFunction(this)" class="rounded col-3">PAPER</button>
                </div>
                <div class="col p-3 bg-info">
                    <b id="bet"></b>
                </div>
            </div>
            <div class="col-4 p-3 border">
                <button onclick="bot()" class="bg-success rounded">Game!</button>
                <p id="demo" style="display:none"></p>
            </div>
            <div class="col-4 p-3 border">
                <h4>Result</h4>
                <p id="result"></p>
            </div>

            <div class="col-4 p-3 border">
                <h4>Match History</h4>
                <ul id="matchHistory"></ul>
            </div>
            

        </div>
        <script>
            function myFunction(btn) {
            var x = btn.value;
            document.querySelector("#bet").innerHTML = x.toUpperCase();
        }

        function bot() {
            document.querySelector("#demo").innerHTML =
            Math.floor(Math.random() * 3) + 1;

            let playerBet = document.getElementById("bet");
            let opponentChoice;
                if (document.querySelector("#demo").innerHTML == 1) {
                    opponentChoice = "Scissor";
                } else if (document.querySelector("#demo").innerHTML == 2) {
                    opponentChoice = "Rock";
                } else {
                    opponentChoice = "Paper";
                }
            let result;
            if (opponentChoice.innerHTML == 1) {
                if (playerBet.innerHTML == "SCISSOR") {
                    result = "Your Opponent picks Scissor <br> The Result is Draw";
                } else if (playerBet.innerHTML == "ROCK") {
                    result = "Your Opponent picks Scissor <br> You Win";
                } else if (playerBet.innerHTML == "PAPER") {
                    result = "Your Opponent picks Scissor <br> You Lose";
                } else {
                    result = "You must place your bet first";
                }
            } else if (opponentChoice.innerHTML == 2) {
                if (playerBet.innerHTML == "SCISSOR") {
                    result = "Your Opponent picks Rock <br> You Lose";
                } else if (playerBet.innerHTML == "ROCK") {
                    result = "Your Opponent picks Rock <br> The Result is Draw";
                } else if (playerBet.innerHTML == "PAPER") {
                    result = "Your Opponent picks Rock <br> You Win";
                } else {
                    result = "You must place your bet first";
                }
            } else if (opponentChoice.innerHTML == 3) {
                if (playerBet.innerHTML == "SCISSOR") {
                    result = "Your Opponent picks Paper <br> You Win";
                } else if (playerBet.innerHTML == "ROCK") {
                    result = "Your Opponent picks Paper <br> You Lose";
                } else if (playerBet.innerHTML == "PAPER") {
                    result = "Your Opponent picks Paper <br> The Result is Draw";
                } else {
                    result = "You must place your bet first";
                }

            } else {
                result = "try again";
            }

            let match = {
                playerBet: document.querySelector("#bet").innerHTML,
                opponentChoice: opponentChoice,
                result: document.querySelector("#result").innerHTML
            };
                matchHistory.push(match);
                updateMatchHistory();
            
            }

            let matchHistory = [];

            function updateMatchHistory() {
                let historyList = document.getElementById("matchHistory");
                historyList.innerHTML = "";
                for (let i = matchHistory.length - 1; i >= 0; i--) {
                let match = matchHistory[i];
                let listItem = document.createElement("li");
                listItem.innerHTML = `You bet ${match.playerBet}, your opponent picked ${match.opponentChoice}: ${match.result}`;
                historyList.appendChild(listItem);
            }
        }
   
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5
    </body>
</html>
